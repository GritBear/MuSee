extends layout

block content
    div.headerelm
        h1= title
        h5 An Open Source Web Music Visualizer
    // <button onclick="updatePitch(0);">sample</button>
    div#visualizer
        canvas#buffer1.vcanvas(width='1400', height='700', style="border:4px solid #d3d3d3;")
        canvas#buffer2.vcanvas(width='1400', height='700', style="border:4px solid #d3d3d3;")

    div.control_btn
        p Demo audios 
        span#state loading...
        button(onclick='this.innerText = togglePlayback(0)') Demo 0
        button(onclick='this.innerText = togglePlayback(1)') Demo 1
        button(onclick='this.innerText = togglePlayback(2)') Demo 2
        button(onclick='this.innerText = togglePlayback(3)') Demo 3
        

    div.control_btn
        p Other audio sources
        button(onclick='toggleLiveInput()') Microphone input
        button(onclick='toggleOscillator()') Constant pitch

    div.control_btn
        p Use your music
        //input#fileSelet(type="file" name="file[]" single)
        div#drop_zone Drop file here
        button#upload_play_btn(onclick='togglePlayback(4)' disabled) Play

    div.control_btn
        p Drop me any feedback at 6fenxls(at)gmail

    //loading textures
    .texture
        img#leaf1(src='/images/leaf1.png', alt='leaf1', height='256', width='256' hidden)
        img#flower1(src='/images/flower1.png', alt='flower1', height='256', width='256' hidden)

    //loading resources
    link(rel='stylesheet', href='/stylesheets/index.css')
    
    script(data-main="/javascripts/index.js" src="/javascripts/require.js")

    script(type='text/javascript' src='/javascripts/lib/three.min.js')
    script(type='text/javascript' src='/javascripts/lib/requestAnimFrame.js')
    
    script(type='text/javascript' src='/javascripts/musee/birdflock.js')
    script(type='text/javascript' src='/javascripts/musee/audio_global.js')
    script(type='text/javascript' src='/javascripts/musee/audio_global.js')
    script(type='text/javascript' src='/javascripts/musee/visual_global.js')
    script(type='text/javascript' src='/javascripts/musee/melodyStore.js')
    script(type='text/javascript' src='/javascripts/musee/pitchdetect.js')
    script(type='text/javascript' src='/javascripts/musee/deterministicTree.js')
    script(type='text/javascript' src='/javascripts/musee/visual.js')
    //script(type='text/javascript' src='/javascripts/index.js')